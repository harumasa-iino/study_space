# 技術選定・検証
## 技術選定基準
開発に入る前には、技術選定を行うことが必要です。技術選定は、基本的には経験があるものをベースに選定することが望ましいですが、「経験がなく、新規で必要な技術」や「新しくやりたいことを実現するための技術」を導入する検討は必要です。ただし、経験のない技術を多く導入すると、何が分からないかが分からなくなってしまう可能性があるため、できるだけ経験のある技術を中心に使用することをおすすめします。  
使用する技術はバージョンによって挙動が違うこともあるため、なるべくバージョンを固定してください。  

## インフラ選定
Webアプリケーションを公開するにあたり、インフラ構築やデプロイ作業が最も躓きやすいポイントになるため、インフラ選定は特に重要な作業となります。インフラには、IaaS（Infrastructure as a Service）と呼ばれる、サーバそのものを構築するものや、HerokuのようなPaaS（Platform as a Service）と呼ばれる、比較的簡単にWebアプリケーションを公開できるものがあります。特にインフラ周りに知見がない方には、PaaSの選択をおすすめします。  

## 代表的なPaaS

- Heroku

https://jp.heroku.com/  
Herokuは、Ruby on Railsのアプリケーションを公開するのに最も有名なPaaSの一つです。しかし、2022年11月から無料プランが廃止され、有料プランのみとなったため、他のプラットフォームに乗り換える方も増えています。それでも、安定性とドキュメント量においては、No.1のPaaSであると言えるでしょう。

- Fly.io

https://fly.io/  
Fly.ioは、アプリケーションを公開するためのPaaSの一つで、Herokuの無料プランが廃止された中で注目されています。Fly.ioは、無料から使用することが可能で、コマンドやドキュメントも豊富なので、比較的初学者にも優しい設計となっています。  

## 代表的なIaaS
- AWS

https://aws.amazon.com/jp/  
AWSとは、Amazon Web Servicesの略称であり、Amazonが提供している100以上のクラウドコンピューティングサービスの総称です。企業のインフラ環境としては、最も利用されているサービスの一つで、EC2やFargate、ECSなど、物理サーバーと同様のインフラやコンテナ環境が用意されています。
また、データベース（RDS）、キャッシュサーバー（ElastiCache）、ファイルサーバー（S3）などのフルマネージドサービスも提供されており、多様なインフラ環境を構築することができます。ただし、Ruby on Rails製のWebアプリケーションを簡単に公開できるPaaSサービスはありません。そのため、WebアプリケーションはFly.ioなどのPaaSを使用し、必要な場合はS3など、適切なサービスを必要なだけ使用することをおすすめします。

- GCP

https://cloud.google.com/?hl=ja  
GCP（Google Cloud Platform）とは、Googleが提供しているクラウドコンピューティングサービスです。Google 検索やYouTube、Googleマップなどのエンドユーザー向けのサービスにおいても、同じインフラストラクチャーが利用されているので、WebAPI利用としてもよく利用されます。GCPもAWSと同様に適切なサービスを必要なだけ使用することをおすすめします。

## 技術検証
経験のない技術を使用する場合、必ず着手前に検証を行ってください。  
検証方法は以下のような方法で実施します。  

- WebAPIや新規ライブラリを使用する場合、テスト用のアプリケーションを作成し、その中で使用したいメソッドを実行し、レスポンスなどを確認することが重要です。取得できるデータが必要な形式であるか、期待した結果が得られるかなど、必要な検証を行ってください。
- CSSフレームワークを使用する場合は、テスト用のアプリケーションに導入し、CSSが適用されているかを確認してください。これにより、フレームワークが正しくインストールされ、アプリケーションに適用されていることが確認できます。
- 新規でフロントエンドのフレームワークを使用する場合は、必ずチュートリアルなどを実施し、簡単なアプリケーションが作れる程度にはフレームワークの使い方を理解してください。これにより、フレームワークを適切に活用することができ、見積もり精度も向上します。
- インフラセットアップは初めての方には難しい作業ですので、詰まることが多いかもしれません。そこで、まずはシンプルなRailsアプリを作成し、デプロイまでの流れを経験してみることをお勧めします。

このような形で技術検証を行うことによって、その後の開発において、自身がどれくらいの期間でどれくらいの実装を進められるかを把握することができます。

## 技術選定例
```
■ 開発環境: Docker
■ サーバサイド: Ruby on Rails 7系
　　Ruby 3.2.2 Rails 7.0.4.3
■ フロントエンド: HotWire
■ CSSフレームワーク: bootstrap5系、Silicon（Bootstrapテンプレート）
■ WebAPI: Google MapAPI（GoogleマップのジオロケーションAPI）、 Amazon Rekognition（画像解析サービス）
■ インフラ:
・ Webアプリケーションサーバ: Fly.io
・ ファイルサーバ: AWS S3
・ セッションサーバ: Redis（Redis by Upstash）
・ データベースサーバ: PostgreSQL（Fly Postgres）
■ その他：
・ VCS: GitHub
・ CI/CD: GitHubActions
```